<!DOCTYPE html>
<html>
    <head>
        <title>Food Recipes</title>
        <link rel="stylesheet" href="style.css"/>
    </head>
    <body class="foodBody">
        <!--div for header NEEDS COMPLETED-->
        <div>
            <h1>Food Recipes</h1>
        </div>
        <!--div for search bar-->
        <div class="search_container">
            <input type="text" id="searchBar" placeholder="Search..." onkeyup="filterTable()">
        </div>
        
        <!--div for recipe table-->
        <div class="tableDiv">
            <table class="table">
                <thead>
                    <tr id="tableHeader">
                        <th></th>
                        <th>Item</th>
                        <th>Health</th>
                        <th>Stamina</th>
                        <th>Eitr</th>
                        <th>Healing</th>
                        <th>Duration</th>
                        <th>Biome</th>
                        <th>Recipe</th>
                    </tr>
                </thead>
                <tbody id="foodTable"></tbody>
            </table>
        </div>
        
        
        <!--div for back button-->
        <div class="backButtonDiv">
            <button class="button" onclick="self.close()">Back to Home Page</button>
        </div>

        <script>
            var searchBar = document.getElementById('searchBar');
            var bSearch = document.getElementById('submit');
            var recipes = [
                            {
                                "Item": "Mushroom",
                                "Health": 15,
                                "Stamina": 15,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "15m",
                                "Biome": "Meadows",
                                "Recipe": ""
                            },
                            {
                                "Item": "Raspberries",
                                "Health": 7,
                                "Stamina": 20,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "10m",
                                "Biome": "Meadows",
                                "Recipe": ""
                            },
                            {
                                "Item": "Honey",
                                "Health": 8,
                                "Stamina": 35,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "15m",
                                "Biome": "Meadows",
                                "Recipe": ""
                            },
                            {
                                "Item": "Boar jerky",
                                "Health": 23,
                                "Stamina": 23,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "30m",
                                "Biome": "Meadows",
                                "Recipe": "1 boar meat, 1 honey"
                            },
                            {
                                "Item": "Grilled neck tail",
                                "Health": 25,
                                "Stamina": 8,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "20m",
                                "Biome": "Meadows",
                                "Recipe": ""
                            },
                            {
                                "Item": "Cooked boar meat",
                                "Health": 30,
                                "Stamina": 10,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "20m",
                                "Biome": "Meadows",
                                "Recipe": ""
                            },
                            {
                                "Item": "Cooked deer meat",
                                "Health": 35,
                                "Stamina": 12,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "20m",
                                "Biome": "Meadows",
                                "Recipe": ""
                            },
                            {
                                "Item": "Blueberries",
                                "Health": 8,
                                "Stamina": 25,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "10m",
                                "Biome": "Black Forest",
                                "Recipe": ""
                            },
                            {
                                "Item": "Yellow mushroom",
                                "Health": 10,
                                "Stamina": 30,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "10m",
                                "Biome": "Black Forest",
                                "Recipe": ""
                            },
                            {
                                "Item": "Carrot",
                                "Health": 10,
                                "Stamina": 32,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "15m",
                                "Biome": "Black Forest",
                                "Recipe": ""
                            },
                            {
                                "Item": "Queens jam",
                                "Health": 14,
                                "Stamina": 40,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "20m",
                                "Biome": "Black Forest",
                                "Recipe": "8 raspberries, 6 blueberries"
                            },
                            {
                                "Item": "Minced meat sauce",
                                "Health": 40,
                                "Stamina": 13,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "25m",
                                "Biome": "Black Forest",
                                "Recipe": "1 boar meat, 1 necktail, 1 carrot"
                            },
                            {
                                "Item": "Cooked fish",
                                "Health": 45,
                                "Stamina": 15,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "20m",
                                "Biome": "Black Forest",
                                "Recipe": ""
                            },
                            {
                                "Item": "Carrot soup",
                                "Health": 15,
                                "Stamina": 45,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "25m",
                                "Biome": "Black Forest",
                                "Recipe": "3 carrots, 1 mushroom"
                            },
                            {
                                "Item": "Deer stew",
                                "Health": 45,
                                "Stamina": 15,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "25m",
                                "Biome": "Black Forest",
                                "Recipe": "1 cooked deer meat, 1 blueberries, 1 carrot"
                            },
                            {
                                "Item": "Muckshake",
                                "Health": 16,
                                "Stamina": 50,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "20m",
                                "Biome": "Swamp",
                                "Recipe": "1 ooze, 2 raspberries, 2 blueberries"
                            },
                            {
                                "Item": "Black soup",
                                "Health": 50,
                                "Stamina": 17,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "20m",
                                "Biome": "Swamp",
                                "Recipe": "1 bloodbag, 1 honey, 1 turnip"
                            },
                            {
                                "Item": "Sausages",
                                "Health": 55,
                                "Stamina": 18,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "25m",
                                "Biome": "Swamp",
                                "Recipe": "4 entrails, 1 boar meat, 1 thistle"
                            },
                            {
                                "Item": "Turnip stew",
                                "Health": 18,
                                "Stamina": 55,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "25m",
                                "Biome": "Swamp",
                                "Recipe": "3 turnips, 1 boar meat"
                            },
                            {
                                "Item": "Wolf jerky",
                                "Health": 33,
                                "Stamina": 33,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "30m",
                                "Biome": "Mountains",
                                "Recipe": "1 wolf meat, 1 honey"
                            },
                            {
                                "Item": "Onion soup",
                                "Health": 20,
                                "Stamina": 60,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "20m",
                                "Biome": "Mountains",
                                "Recipe": "3 onions"
                            },
                            {
                                "Item": "Eyescream",
                                "Health": 21,
                                "Stamina": 65,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "25m",
                                "Biome": "Mountains",
                                "Recipe": "3 greydwarf eye, 1 freeze gland"
                            },
                            {
                                "Item": "Wolf skewer",
                                "Health": 65,
                                "Stamina": 21,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "25m",
                                "Biome": "Mountains",
                                "Recipe": "1 wolf meat, 2 mushrooms, 1 onion"
                            },
                            {
                                "Item": "Cloudberries",
                                "Health": 13,
                                "Stamina": 40,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "15m",
                                "Biome": "Plains",
                                "Recipe": ""
                            },
                            {
                                "Item": "Cooked lox meat",
                                "Health": 50,
                                "Stamina": 16,
                                "Eitr": "",
                                "Healing": 4,
                                "Duration": "20m",
                                "Biome": "Plains",
                                "Recipe": ""
                            },
                            {
                                "Item": "Fish wraps",
                                "Health": 70,
                                "Stamina": 23,
                                "Eitr": "",
                                "Healing": 4,
                                "Duration": "25m",
                                "Biome": "Plains",
                                "Recipe": "2 cooked fish, 4 barley flour"
                            },
                            {
                                "Item": "Bread",
                                "Health": 23,
                                "Stamina": 70,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "25m",
                                "Biome": "Plains",
                                "Recipe": "10 barley flour"
                            },
                            {
                                "Item": "Blood pudding",
                                "Health": 25,
                                "Stamina": 75,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "30m",
                                "Biome": "Plains",
                                "Recipe": "2 thistle, 2 bloodbag, 4 barley flour"
                            },
                            {
                                "Item": "Lox meat pie",
                                "Health": 75,
                                "Stamina": 24,
                                "Eitr": "",
                                "Healing": 4,
                                "Duration": "30m",
                                "Biome": "Plains",
                                "Recipe": "2 lox meat, 2 cloudberries, 4 barley flour"
                            },
                            {
                                "Item": "Cooked Serpent meat",
                                "Health": 70,
                                "Stamina": 23,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "25m",
                                "Biome": "Ocean",
                                "Recipe": ""
                            },
                            {
                                "Item": "Serpent stew",
                                "Health": 80,
                                "Stamina": 26,
                                "Eitr": "",
                                "Healing": 4,
                                "Duration": "30m",
                                "Biome": "Ocean",
                                "Recipe": "1 cooked serpent meat, 1 mushroom, 2 honey"
                            },
                            {
                                "Item": "Royal jelly",
                                "Health": 15,
                                "Stamina": 15,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "15m",
                                "Biome": "Mistlands",
                                "Recipe": ""
                            },
                            {
                                "Item": "Jotun puffs",
                                "Health": 25,
                                "Stamina": 25,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "15m",
                                "Biome": "Mistlands",
                                "Recipe": ""
                            },
                            {
                                "Item": "Magecap",
                                "Health": 25,
                                "Stamina": 25,
                                "Eitr": 25,
                                "Healing": 1,
                                "Duration": "15m",
                                "Biome": "Mistlands",
                                "Recipe": ""
                            },
                            {
                                "Item": "Cooked egg",
                                "Health": 35,
                                "Stamina": 12,
                                "Eitr": "",
                                "Healing": 2,
                                "Duration": "20m",
                                "Biome": "Mistlands",
                                "Recipe": "1 egg"
                            },
                            {
                                "Item": "Cooked chicken meat",
                                "Health": 60,
                                "Stamina": 20,
                                "Eitr": "",
                                "Healing": 5,
                                "Duration": "20m",
                                "Biome": "Mistlands",
                                "Recipe": ""
                            },
                            {
                                "Item": "Cooked hare meat",
                                "Health": 60,
                                "Stamina": 20,
                                "Eitr": "",
                                "Healing": 5,
                                "Duration": "20m",
                                "Biome": "Mistlands",
                                "Recipe": ""
                            },
                            {
                                "Item": "Cooked seeker meat",
                                "Health": 60,
                                "Stamina": 20,
                                "Eitr": "",
                                "Healing": 5,
                                "Duration": "20m",
                                "Biome": "Mistlands",
                                "Recipe": ""
                            },
                            {
                                "Item": "Stuffed mushroom",
                                "Health": 25,
                                "Stamina": 12,
                                "Eitr": 75,
                                "Healing": 3,
                                "Duration": "25m",
                                "Biome": "Mistlands",
                                "Recipe": "3 magecaps, 1 blood clot, 2 turnips"
                            },
                            {
                                "Item": "Salad",
                                "Health": 26,
                                "Stamina": 80,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "25m",
                                "Biome": "Mistlands",
                                "Recipe": "3 jotun puffs, 3 onions, 3 cloudberries"
                            },
                            {
                                "Item": "Meat platter",
                                "Health": 80,
                                "Stamina": 26,
                                "Eitr": "",
                                "Healing": 5,
                                "Duration": "30m",
                                "Biome": "Mistlands",
                                "Recipe": "1 seeker meat, 1 lox meat, 1 hare meat"
                            },
                            {
                                "Item": "Honey glazed chicken",
                                "Health": 80,
                                "Stamina": 26,
                                "Eitr": "",
                                "Healing": 5,
                                "Duration": "30m",
                                "Biome": "Mistlands",
                                "Recipe": "1 chicken meat, 3 honey, 2 jotun puffs"
                            },
                            {
                                "Item": "Yggdrasil porridge",
                                "Health": 27,
                                "Stamina": 13,
                                "Eitr": 80,
                                "Healing": 3,
                                "Duration": "25m",
                                "Biome": "Mistlands",
                                "Recipe": "4 sap, 3 barley, 2 royal jelly"
                            },
                            {
                                "Item": "Misthare supreme",
                                "Health": 85,
                                "Stamina": 28,
                                "Eitr": "",
                                "Healing": 5,
                                "Duration": "25m",
                                "Biome": "Mistlands",
                                "Recipe": "1 hare meat, 3 jotun puffs, 2 carrots"
                            },
                            {
                                "Item": "Mushroom omelette",
                                "Health": 28,
                                "Stamina": 85,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "25m",
                                "Biome": "Mistlands",
                                "Recipe": "3 eggs, 3 jotun puffs"
                            },
                            {
                                "Item": "Seeker aspic",
                                "Health": 28,
                                "Stamina": 14,
                                "Eitr": 85,
                                "Healing": 3,
                                "Duration": "30m",
                                "Biome": "Mistlands",
                                "Recipe": "2 seeker meat, 2 magecap, 2 royal jelly"
                            },
                            {
                                "Item": "Fish n bread",
                                "Health": 30,
                                "Stamina": 90,
                                "Eitr": "",
                                "Healing": 3,
                                "Duration": "30m",
                                "Biome": "Mistlands",
                                "Recipe": "1 anglerfish, 2 bread dough"
                            },
                            {
                                "Item": "Smoke puff",
                                "Health": 15,
                                "Stamina": 15,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": ""
                            },
                            {
                                "Item": "Fiddlehead",
                                "Health": 30,
                                "Stamina": 30,
                                "Eitr": "",
                                "Healing": 1,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": ""
                            },
                            {
                                "Item": "Vineberry cluster",
                                "Health": 30,
                                "Stamina": 30,
                                "Eitr": 30,
                                "Healing": 1,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": ""
                            },
                            {
                                "Item": "Cooked asksvin tail",
                                "Health": 70,
                                "Stamina": 24,
                                "Eitr": "",
                                "Healing": 6,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "1 asksvin tail"
                            },
                            {
                                "Item": "Cooked volture meat",
                                "Health": 70,
                                "Stamina": 24,
                                "Eitr": "",
                                "Healing": 6,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "1 volture meat"
                            },
                            {
                                "Item": "Cooked bonemaw meat",
                                "Health": 90,
                                "Stamina": 30,
                                "Eitr": "",
                                "Healing": 6,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "1 bonemaw meat"
                            },
                            {
                                "Item": "Fiery svinstew",
                                "Health": 95,
                                "Stamina": 32,
                                "Eitr": "",
                                "Healing": 6,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "1 asksvin tail, 2 vineberry cluster, 1 smokepuff"
                            },
                            {
                                "Item": "Mashed meat",
                                "Health": 100,
                                "Stamina": 34,
                                "Eitr": "",
                                "Healing": 6,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "1 asksvin tail, 1 volture meat, 1 fiddlehead"
                            },
                            {
                                "Item": "Piquant pie",
                                "Health": 105,
                                "Stamina": 35,
                                "Eitr": "",
                                "Healing": 6,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "2 asksvin tail, 2 vineberry cluster, 4 barley flour"
                            },
                            {
                                "Item": "Spicy marmalade",
                                "Health": 30,
                                "Stamina": 90,
                                "Eitr": "",
                                "Healing": 4,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "3 vineberry cluster, 1 honey, 1 fiddlehead"
                            },
                            {
                                "Item": "Scorching medley",
                                "Health": 32,
                                "Stamina": 95,
                                "Eitr": "",
                                "Healing": 4,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "3 jotun puffs, 3 onion, 3 fiddlehead"
                            },
                            {
                                "Item": "Roasted crust pie",
                                "Health": 34,
                                "Stamina": 100,
                                "Eitr": "",
                                "Healing": 4,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "1 volture egg, 2 vineberry cluster, 4 barley flour"
                            },
                            {
                                "Item": "Sizzling berry broth",
                                "Health": 28,
                                "Stamina": 14,
                                "Eitr": 85,
                                "Healing": 4,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "3 sap, 2 vineberry cluster, 2 fiddlehead"
                            },
                            {
                                "Item": "Sparkling shroomshake",
                                "Health": 30,
                                "Stamina": 15,
                                "Eitr": 90,
                                "Healing": 4,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "4 sap, 2 magecap, 2 vineberry cluster, 2 smoke puff"
                            },
                            {
                                "Item": "Marinated greens",
                                "Health": 32,
                                "Stamina": 16,
                                "Eitr": 95,
                                "Healing": 4,
                                "Duration": "",
                                "Biome": "Ashlands",
                                "Recipe": "3 sap, 2 magecap, 2 fiddlehead, 2 smoke puff"
                            }
                        ];
            
            //function to initially fill table
            function fillTable(data) {
                var table = document.getElementById('foodTable');
                data.forEach(function(object) {
                    var tr = document.createElement('tr');
                    tr.innerHTML = '<th><img src="imgs/food/' + object.Item.replaceAll(' ','_') + '.png"></th>' +
                        '<td>' + object.Item + '</td>' +
                        '<td>' + object.Health + '</td>' +
                        '<td>' + object.Stamina + '</td>' +
                        '<td>' + object.Eitr + '</td>' +
                        '<td>' + object.Healing + '</td>' +
                        '<td>' + object.Duration + '</td>' +
                        '<td>' + object.Biome + '</td>' +
                        '<td>' + object.Recipe + '</td>';
                        table.appendChild(tr);
                });
            }

            //call function to fill table
            fillTable(recipes);
            
            //function to filter table by search
            function filterTable() {
                var input = document.getElementById("searchBar");
                var filter = input.value.toLowerCase();
                var table = document.getElementById("foodTable");
                var rows = table.getElementsByTagName("tr")
                var td;

                //loop to hide rows that don't match filter
                for (var i = 0; i < rows.length; i++) {
                    td = rows[i].getElementsByTagName("td");
                    if (td) {
                        //variable to allow filter by name
                        var item = td[0].innerText;
                        //variable to allow filter by biome
                        var biome = td[6].innerText;
                        //variable to allow filter by ingredient
                        var recipe = td[7].innerText;
                        //variables to allow filter by stat type
                        var health = td[1].innerText;
                        var stamina = td[2].innerText;
                        var eitr = td[3].innerText;
                        if (item.toLowerCase().includes(filter) || biome.toLowerCase().includes(filter) || recipe.toLowerCase().includes(filter)) {
                            rows[i].style.display = "";
                        }
                        else if (Math.max(health, stamina, eitr) == health && health != stamina && filter.toLowerCase().includes("health")) {
                            rows[i].style.display = "";
                        }
                        else if (Math.max(health, stamina, eitr) == stamina && health != stamina && filter.toLowerCase().includes("stamina")) {
                            rows[i].style.display = "";
                        }
                        else if (Math.max(health, stamina, eitr) == eitr && filter.toLowerCase().includes("eitr")) {
                            rows[i].style.display = "";
                        }
                        else {
                            rows[i].style.display = "none";
                        }
                    }

                }
            }

        </script>
    </body>

</html>